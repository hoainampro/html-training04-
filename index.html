<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HTML TRAINING </title>
  <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container">
      <div class="header">
        <div class="logo">
          <a href=""><img src="images/logo.png" alt=""></a>
        </div>
        <div class="server-right">
          <div class="contact1-right">
            <img src="images/icon_call.png" alt="">
            <p>Chăm sóc khách hàng</p>
            <p><span>1900 6068</span></p>
          </div>
          <div class="contact2-right">
            <img src="images/icon_home.png" alt="">
            <p>Chăm sóc khách hàng ngoài giờ</p>
            <p>Khách sạn <span>0906 636 171</span>/ Tour: <span>0938238044</span></p>
          </div>
          <div class="clear"></div>
          <nav>
            <ul class="menu-list">
              <li class="menu_item"><a href="" title="">trang chủ</a></li>
              <li class="menu_item"><a href="" title="">về hadatour</a></li>
              <li class="menu_item"><a href="" title="">tour</a></li>
              <li class="menu_item"><a href="" title="">khách sạn</a></li>
              <li class="menu_item"><a href="" title="">cho thuê phương tiện</a></li>
              <li class="menu_item"><a href="" title="">vé máy bay</a></li>
              <li class="menu_item"><a href="" title="">tin tức</a></li>
              <li class="menu_item"><a href="" title="">liên hệ</a></li>
            </ul>
          </nav>
        </div>
        <div class="clear"></div>
      </div>
    </div>
    <figure><img src="images/slide.png" alt="" class="slide"></figure>
  </header>
  <section>
   <div class="container">
      <h1 class="tour">tour</h1>
       <div class="background-1">
          <div class="transbox">
            <h3>tour nổi bật</h3>
          </div>
       </div>
       <div class="background-2">
          <div class="transbox">
            <h3>tour nước ngoài</h3>
          </div>
       </div>
       <div class="background-3">
        <div class="transbox">
          <h3>tour trong nước</h3>
        </div>
       </div>
    </div>
    <div class="container">
      <div class="gallery">
        <div class="gallery_item">
          <a href="#"><img src="images/product_1.png" alt=""></a>
          <h4>hà nội - phú quốc</h4>
          <p>Giá Tour:<a href="shopping.html" title="" class="add-to-cart" data-name="hà nội - phú quốc" data-price="5.350.000"> 5.350.000 VNĐ</a></p>
          <!-- <button type="button" class="add-to-cart" data-name="ha noi - phong nha" data-price="5000">add-to-cart</button> -->
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_2.png" alt=""></a>
          <h4>con đường di sản miền trung</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_3.png" alt=""></a>
          <h4>hành trình đông bắc</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_4.png" alt=""></a>
          <h4>cao nguyên đà lạt</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="clear"></div>
      </div>
      <!-- row 1 -->
      <div class="gallery">
        <div class="gallery_item">
          <a href="#"><img src="images/product_5.png" alt=""></a>
          <h4>hà nội - phú quốc</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_6.png" alt=""></a>
          <h4>con đường di sản miền trung</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_7.png" alt=""></a>
          <h4>hành trình đông bắc</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_8.png" alt=""></a>
          <h4>cao nguyên đà lạt</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="clear"></div>
      </div>
      <!-- row 2 -->
      <div class="gallery">
        <div class="gallery_item">
          <a href="#"><img src="images/product_9.png" alt=""></a>
          <h4>hà nội - phú quốc</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_10.png" alt=""></a>
          <h4>con đường di sản miền trung</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_11.png" alt=""></a>
          <h4>hành trình đông bắc</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="gallery_item">
          <a href="#"><img src="images/product_12.png" alt=""></a>
          <h4>cao nguyên đà lạt</h4>
          <p>Giá Tour:<a href="#" title=""> 5.350.000 VNĐ</a></p>
        </div>
        <div class="clear"></div>
      </div>
    </div>
  </section>
  <footer>
    <div class="container footer-border">
      <div class="colum">
        <a href="" title=""><img src="images/logo_footer.png" alt=""></a>
        <p class="text-hadatur">@2015 - Bản quyền thuộc về HadaTour</p>
      </div>
      <div class="colum">
        <h3>thông tin</h3>
        <ul class="infor">
          <li><a href="#">giới thiệu về HadaTour</a></li>
          <li><a href="#">thông tin liên hệ</a></li>
          <li><a href="#">điều khoản thành viên</a></li>
          <li><a href="#">phương thức thanh toán</a></li>
          <li><a href="#">tuyển dụng</a></li>
        </ul>
      </div>
      <div class="colum">
        <h3>cộng đồng</h3>
        <ul class="social">
           <li><a href=""><i class="fa fa-facebook"></i> facebook</a></li>
           <li><a href=""><i class="fa fa-google"></i> google+</a></li>
           <li><a href=""><i class="fa fa-twitter"></i> twitter</a></li>
           <li><a href=""><i class="fa fa-youtube"></i> youtube</a></li>
        </ul>
      </div>
      <div class="colum">
        <p class="text-email">nhập email để nhận giá trị tốt nhất từ HadaTour</p>
        <form>
          <div class="input">
            <input type="text" class="button email" name="email" placeholder="Nhập địa chỉ Email">
            <input type="submit" class="button submit" value="">
          </div>
        </form>
        <p>Thiết kế bởi <a href="#">Kono.vn</a></p>
      </div>
      <div class="clear"></div>
    </div>
  </footer>
 <table class="table table-bordered" id="table-products">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <div>
            <button class="btn btn-lg btn-success" id="button-clear">Clear</button>
        </div>
 </table>       

  <script type="text/javascript">
    
  </script>

<script>
    // Định nghĩa một mảng các phần tử sẽ bỏ vào giỏ hàng
    var shoppingCartItems = [];

    $(document).ready(function () {
        // Kiểm tra nếu đã có sessionStorage["shopping-cart-items"] hay chưa?
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString());
        }

        // Hiển thị thông tin từ giỏ hàng
        displayShoppingCartItems();
    });


    // Sự kiện click các button có class=".add-to-cart"
    $(".add-to-cart").click(function () {
        var button = $(this); // Lấy đối tượng button mà người dùng click
        var id = button.attr("id"); // id của sản phẩm là id của button
        var name = button.attr("data-name"); // name của sản phẩm là thuộc tính data-name của button
        var price = button.attr("data-price"); // price của sản phẩm là thuộc tính data-price của button
        var quantity = 1; // Số lượng


        var item = {
            id: id,
            name: name,
            price: price,
            quantity: quantity
        };

        var exists = false;
        if (shoppingCartItems.length > 0) {
            $.each(shoppingCartItems, function (index, value) {
                // Nếu mặt hàng đã tồn tại trong giỏ hàng thì chỉ cần tăng số lượng mặt hàng đó trong giỏ hàng.
                if (value.id == item.id) {
                    value.quantity++;
                    exists = true;
                    return false;
                }
            });
        }

        // Nếu mặt hàng chưa tồn tại trong giỏ hàng thì bổ sung vào mảng
        if (!exists) {
            shoppingCartItems.push(item);
        }

        // Lưu thông tin vào sessionStorage
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems); // Chuyển thông tin mảng shoppingCartItems sang JSON trước khi lưu vào sessionStorage
        // Gọi hàm hiển thị giỏ hàng
        displayShoppingCartItems();
    });

    // Xóa hết giỏ hàng shoppingCartItems
    $("#button-clear").click(function () {
        shoppingCartItems = [];
        sessionStorage["shopping-cart-items"] = JSON.stringify(shoppingCartItems);
        $("#table-products > tbody").html("");
    });


    // Hiển thị giỏ hàng ra table
    function displayShoppingCartItems() {
        if (sessionStorage["shopping-cart-items"] != null) {
            shoppingCartItems = JSON.parse(sessionStorage["shopping-cart-items"].toString()); // Chuyển thông tin từ JSON trong sessionStorage sang mảng shoppingCartItems.

            $("#table-products > tbody").html("");
            // Duyệt qua mảng shoppingCartItems để append từng item dòng vào table
            $.each(shoppingCartItems, function (index, item) {
                var htmlString = "";
                htmlString += "<tr>";
                htmlString += "<td>" + item.id + "</td>";
                htmlString += "<td>" + item.name + "</td>";
                htmlString += "<td style='text-align: right'>" + item.price + "</td>";
                htmlString += "<td style='text-align: right'>" + item.quantity + "</td>";
                htmlString += "<td style='text-align: right'>" + item.price * item.quantity + "</td>";
                htmlString += "</tr>";

                $("#table-products > tbody:last").append(htmlString);

            });
        }
    }
</script>

</body>
</html>
